<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.Hotel.mapper.RoomMapper">
	<insert id="RoomWrite" parameterType="com.Hotel.dto.RoomDTO">
		INSERT INTO
		ROOM(RO_HOCODE,ROCODE,RONAME,ROFILENAME,RODETAIL,ROMINPER,ROMAXPER,ROPRICE,RONUM)
		VALUES(#{ro_hocode},#{rocode},#{roname},#{rofilename},#{rodetail},#{rominper},#{romaxper},#{roprice},#{ronum})
	</insert>
	
	<select id="RoomList" resultMap="room">
		SELECT * FROM ROOM INNER JOIN HOTEL ON HOTEL.HOCODE = ROOM.RO_HOCODE WHERE HO_CID=#{ALoginId}
	</select>
	
	<select id="bookingCheck" parameterType="String" resultType="com.Hotel.dto.RoomDTO">
		SELECT * FROM ROOM WHERE ROCODE = #{rocode}
	</select>
	
	<select id="getHotelName" parameterType="String" resultType="com.Hotel.dto.HotelDTO">
		SELECT HONAME, HOADDR FROM HOTEL, ROOM WHERE HOCODE = RO_HOCODE AND ROCODE = #{rocode}
	</select>
	
	<update id="RoomModify" parameterType="com.Hotel.dto.RoomDTO">
		UPDATE ROOM SET RONAME=#{roname}, ROFILENAME=#{rofilename}, RODETAIL=#{rodetail}, ROMINPER=#{rominper}, ROMAXPER=#{romaxper}, ROPRICE=#{roprice}, RONUM=#{ronum} WHERE ROCODE=#{rocode}
	</update>
	
	<resultMap type="map" id="room">
		<result property="ro_hocode" column="RO_HOCODE" />
		<result property="rocode" column="ROCODE" />
		<result property="roname" column="RONAME" />
		<result property="rofilename" column="ROFILENAME" />
		<result property="rodetail" column="RODETAIL" />
		<result property="rominper" column="ROMINPER" />
		<result property="romaxper" column="ROMAXPER" />
		<result property="roprice" column="ROPRICE" />
		<result property="ronum" column="RONUM" />
		<result property="honame" column="HONAME" />
	</resultMap>
</mapper>  