<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.Hotel.mapper.LandmarkMapper">

<select id="getlandmarkListCnt" resultType="int">
	SELECT COUNT(*) FROM LANDMARK
</select>

<select id="landmarkList" parameterType="com.Hotel.dto.PageDTO" resultMap="landmark">
	SELECT * FROM (SELECT ROWNUM RN, LANDMARK.* FROM LANDMARK ORDER BY LACODE) WHERE RN BETWEEN #{startrow} AND #{endrow}
</select>

<select id="searchingLandmark" resultMap="landmark" parameterType="String">
	SELECT * FROM LANDMARK WHERE LA_CTCODE = #{la_ctcode}
</select>

<select id="adminLandmarkList" resultMap="landmark">
	SELECT * FROM LANDMARK
</select>

<select id="landmarkModifyForm" resultType="com.Hotel.dto.LandmarkDTO" parameterType="String">
	SELECT * FROM LANDMARK WHERE LACODE = #{lacode}
</select>

<select id="getLaphotoname" resultType="String" parameterType="String">
	SELECT LAFILENAME FROM LANDMARK WHERE LACODE = #{lacode}
</select>

<delete id="landmarkDelete" parameterType="String">
	DELETE LANDMARK WHERE LACODE = #{lacode}
</delete>

<update id="landmarkModify" parameterType="com.Hotel.dto.LandmarkDTO">
	UPDATE LANDMARK SET LANAME = #{laname}, LAADDR = #{laaddr}, LAFILENAME = #{lafilename}, LAINTRO = #{laintro} WHERE LACODE = #{lacode} 
</update>

<insert id="landmarkInsert" parameterType="com.Hotel.dto.LandmarkDTO">
   INSERT INTO LANDMARK (LA_CTCODE, LACODE, LANAME, LAADDR, LAFILENAME, LAINTRO) VALUES (#{la_ctcode}, #{lacode}, #{laname}, #{laaddr}, #{lafilename}, #{laintro})
</insert>

<select id="lanameCheck" parameterType="String" resultType="String">
	SELECT LANAME FROM LANDMARK WHERE LANAME = #{inputlaname}
</select>

<select id="lacodeCheck" parameterType="String" resultType="String">
	SELECT LACODE FROM LANDMARK WHERE LACODE = #{inputlacode}
</select>

<select id="getlacode" resultType="String">
       SELECT MAX(LACODE) FROM LANDMARK
</select>

<resultMap type="com.Hotel.dto.LandmarkDTO" id="landmark">
		<result property="la_ctcode" column="LA_CTCODE" />
		<result property="lacode" column="LACODE" />
		<result property="laname" column="LANAME" />
		<result property="laaddr" column="LAADDR" />
		<result property="lafilename" column="LAFILENAME" />
		<result property="laintro" column="LAINTRO" />
	</resultMap>

</mapper>